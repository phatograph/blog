<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Cheats | phato.blog</title>

    <link rel="shortcut icon" href="/assets/images/favicon.ico" />
    <link rel="stylesheet" href="/assets/fonts/metrize_icons/style.css">
    <link rel="stylesheet" href="/assets/stylesheets/syntax.css">
    <link rel="stylesheet" href="/assets/stylesheets/bootstrap.css">
    <link rel="stylesheet" href="/assets/stylesheets/style.css">

    <style type="text/css" media="all">
      @font-face {
        font-family: 'Droid Serif';
        font-style: normal;
        font-weight: 400;
        src: local('Droid Serif'), local('DroidSerif'), url(/assets/fonts/DroidSerif.woff) format('woff');
      }
      @font-face {
        font-family: 'Droid Serif';
        font-style: normal;
        font-weight: 700;
        src: local('Droid Serif Bold'), local('DroidSerif-Bold'), url(/assets/fonts/DroidSerif-Bold.woff) format('woff');
      }
      @font-face {
        font-family: 'Droid Serif';
        font-style: italic;
        font-weight: 400;
        src: local('Droid Serif Italic'), local('DroidSerif-Italic'), url(/assets/fonts/DroidSerif-Italic.woff) format('woff');
      }
      @font-face {
        font-family: 'Droid Serif';
        font-style: italic;
        font-weight: 700;
        src: local('Droid Serif Bold Italic'), local('DroidSerif-BoldItalic'), url(/assets/fonts/DroidSerif-BoldItalic.woff) format('woff');
      }
      @font-face {
        font-family: 'Source Code Pro';
        font-style: normal;
        font-weight: 200;
        src: local('Source Code Pro ExtraLight'), local('SourceCodePro-ExtraLight'), url(/assets/fonts/SourceCodePro-ExtraLight.woff) format('woff');
      }
      @font-face {
        font-family: 'Source Code Pro';
        font-style: normal;
        font-weight: 300;
        src: local('Source Code Pro Light'), local('SourceCodePro-Light'), url(/assets/fonts/SourceCodePro-Light.woff) format('woff');
      }
      @font-face {
        font-family: 'Source Code Pro';
        font-style: normal;
        font-weight: 400;
        src: local('Source Code Pro'), local('SourceCodePro-Regular'), url(/assets/fonts/SourceCodePro-Regular.woff) format('woff');
      }
      @font-face {
        font-family: 'Source Code Pro';
        font-style: normal;
        font-weight: 500;
        src: local('Source Code Pro Medium'), local('SourceCodePro-Medium'), url(/assets/fonts/SourceCodePro-Medium.woff) format('woff');
      }
      @font-face {
        font-family: 'Source Code Pro';
        font-style: normal;
        font-weight: 600;
        src: local('Source Code Pro Semibold'), local('SourceCodePro-Semibold'), url(/assets/fonts/SourceCodePro-Semibold.woff) format('woff');
      }
      @font-face {
        font-family: 'Source Code Pro';
        font-style: normal;
        font-weight: 700;
        src: local('Source Code Pro Bold'), local('SourceCodePro-Bold'), url(/assets/fonts/SourceCodePro-Bold.woff) format('woff');
      }
      @font-face {
        font-family: 'Source Code Pro';
        font-style: normal;
        font-weight: 900;
        src: local('Source Code Pro Black'), local('SourceCodePro-Black'), url(/assets/fonts/SourceCodePro-Black.woff) format('woff');
      }
      @font-face {
        font-family: 'Ubuntu';
        font-style: normal;
        font-weight: 300;
        src: local('Ubuntu Light'), local('Ubuntu-Light'), url(/assets/fonts/Ubuntu-Light.woff) format('woff');
      }
      @font-face {
        font-family: 'Ubuntu';
        font-style: normal;
        font-weight: 400;
        src: local('Ubuntu'), url(/assets/fonts/Ubuntu.woff) format('woff');
      }
      @font-face {
        font-family: 'Ubuntu';
        font-style: normal;
        font-weight: 500;
        src: local('Ubuntu Medium'), local('Ubuntu-Medium'), url(/assets/fonts/Ubuntu-Medium.woff) format('woff');
      }
      @font-face {
        font-family: 'Ubuntu';
        font-style: normal;
        font-weight: 700;
        src: local('Ubuntu Bold'), local('Ubuntu-Bold'), url(/assets/fonts/Ubuntu-Bold.woff) format('woff');
      }
      @font-face {
        font-family: 'Ubuntu';
        font-style: italic;
        font-weight: 300;
        src: local('Ubuntu Light Italic'), local('Ubuntu-LightItalic'), url(/assets/fonts/Ubuntu-LightItalic.woff) format('woff');
      }
      @font-face {
        font-family: 'Ubuntu';
        font-style: italic;
        font-weight: 400;
        src: local('Ubuntu Italic'), local('Ubuntu-Italic'), url(/assets/fonts/Ubuntu-Italic.woff) format('woff');
      }
      @font-face {
        font-family: 'Ubuntu';
        font-style: italic;
        font-weight: 500;
        src: local('Ubuntu Medium Italic'), local('Ubuntu-MediumItalic'), url(/assets/fonts/Ubuntu-MediumItalic.woff) format('woff');
      }
      @font-face {
        font-family: 'Ubuntu';
        font-style: italic;
        font-weight: 700;
        src: local('Ubuntu Bold Italic'), local('Ubuntu-BoldItalic'), url(/assets/fonts/Ubuntu-BoldItalic.woff) format('woff');
      }
    </style>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.16.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.16.0/plugins/line-highlight/prism-line-highlight.min.css" rel="stylesheet" />

    <script src="/assets/javascripts/jquery-1.10.2.min.js"></script>
    <script src="/assets/javascripts/bootstrap.js"></script>
    <script src="/assets/javascripts/app.js"></script>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
  </head>

  <body>
    <div class="content">
      <div class="container">
        <div class="info">
          <div class="text">
            <h1><a href="/">phato.blog</a></h1>
            <p>Humble semi-technical blog of Pat Wangrungarun</p>
          </div>
          <div class="links">
            <p>
              <a href="http://www.phatograph.com" target="_blank"><i class="icon-star"></i></a>
              <a href="/archives"><i class="icon-list-square"></i></a>
              <a href="http://twitter.com/phatograph" target="_blank"><i class="icon-social-twitter"></i></a>
              <a href="http://th.linkedin.com/in/phatograph" target="_blank"><i class="icon-social-linkedin"></i></a>
              <a href="http://github.com/phatograph" target="_blank"><i class="icon-social-github"></i></a><br />
              <a href="/cheats"><i class="icon-text-paragraph"></i></a>
              <a data-toggle="tooltip" title="phatograph" data-placement="bottom"><i class="icon-social-skype" title="phatograph"></i></a>
              <a data-toggle="tooltip" title="phatograph@gmail.com" data-placement="bottom" href="mailto:phatograph@gmail.com" title="phatograph@gmail.com"><i class="icon-air-plane"></i></a>
            </p>
          </div>
          <!-- <p class="logo"><img src="/assets/images/logo.jpg" alt="logo" /></p> -->
        </div>
        <!-- Template -->
<!-- <div class="entry"> -->
<!-- <p></p> -->
<!-- <figure class="highlight"><pre><code class="language-bash" data-lang="bash"> --&gt;
&lt;!-- </code></pre></figure> -->
<!-- </div> -->

<div class="cheats">

<div class="block">
<h3>Rails</h3>

<div class="entry">
<p>Generate specs</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">rails generate rspec:controller <span class="o">[</span>NAME]
rails generate rspec:model <span class="o">[</span>NAME]</code></pre></figure>
</div>

<div class="entry">
<p>Show rake tasks</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">rake -T
rake -P | grep rake</code></pre></figure>
</div>

<div class="entry">
<p>Run tests</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">rake spec
bundle <span class="nb">exec </span>rspec</code></pre></figure>
</div>

<div class="entry">
<p>Kill all ruby processes</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">kill</span> -9 <span class="sb">`</span>pgrep ruby<span class="sb">`</span></code></pre></figure>
</div>

<div class="entry">
<p>Include Url Helpers to Rails console</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">include Rails.application.routes.url_helpers</code></pre></figure>
</div>

<div class="entry">
<p>Opens a bundled gem in the editor</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">export </span><span class="nv">BUNDLER_EDITOR</span><span class="o">=</span>subl <span class="o">&amp;&amp;</span> bundle open cancan</code></pre></figure>
</div>

<div class="entry">
<p>Check production state</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="k">if </span>Rails.env.production?</code></pre></figure>
</div>

<div class="entry">
<p>Respond to formats</p>
<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">respond_to</span> <span class="k">do</span> <span class="o">|</span><span class="nb">format</span><span class="o">|</span>
  <span class="nb">format</span><span class="p">.</span><span class="nf">html</span>
  <span class="nb">format</span><span class="p">.</span><span class="nf">json</span> <span class="p">{</span> <span class="n">render</span> <span class="ss">json: </span><span class="vi">@apps</span><span class="p">.</span><span class="nf">to_json</span> <span class="p">}</span>
<span class="k">end</span></code></pre></figure>
</div>

<div class="entry">
<p>Generate views with Bootstrap</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># rails generate bootstrap:themed CONTROLLER_PATH [MODEL_NAME]</span>
rails g bootstrap:themed admin/items item</code></pre></figure>
</div>

<div class="entry">
<p>UTF-8 for seeds.rb</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># Just add the following line as the first line of your seeds.rb</span>
<span class="c"># -*- coding: utf-8 -*-</span></code></pre></figure>
</div>

<div class="entry">
<p>Rollback multiple migrations</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">rake db:rollback <span class="nv">STEP</span><span class="o">=</span>2</code></pre></figure>
</div>

<div class="entry">
<p>Generate referenced model</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">rails generate model Comment body:text post:references</code></pre></figure>
</div>

<div class="entry">
<p>Truncates all *.log files in log/ to zero bytes</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">rake log:clear</code></pre></figure>
</div>

<div class="entry">
<p>Run rails in production using webrick</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">rails s --environment<span class="o">=</span>production</code></pre></figure>
</div>

<div class="entry">
<p>Migrate production database</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">rake db:migrate <span class="nv">RAILS_ENV</span><span class="o">=</span><span class="s2">"production"</span></code></pre></figure>
</div>

<div class="entry">
<p>Clone development db to test db</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">rake db:test:clone</code></pre></figure>
</div>

<div class="entry">
<p>Setup deployment to a VPS</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">cap deploy:setup</code></pre></figure>
</div>

<div class="entry">
<p>Local precompile assets</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">rake assets:precompile <span class="nv">RAILS_ENV</span><span class="o">=</span>development</code></pre></figure>
</div>

<div class="entry">
<p>Source location</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">&gt;&gt; </span>Project.instance_method<span class="o">(</span>:trash<span class="o">)</span>.source_location
<span class="gp">=&gt; </span><span class="o">[</span><span class="s2">"/Users/qrush/37s/apps/bcx/app/models/project.rb"</span>, 90]

<span class="gp">&gt;&gt; </span>app.method<span class="o">(</span>:get<span class="o">)</span>.source_location
<span class="gp">=&gt; </span><span class="o">[</span><span class="s2">"/Users/qrush/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/bundler/gems/rails-7d95b814583b/actionpack/lib/action_dispatch/testing/integration.rb"</span>, 32]</code></pre></figure>
</div>

<div class="entry">
<p>Helper in a console</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">&gt;&gt; </span>helper.link_to <span class="s2">"Home"</span>, app.root_path
<span class="gp">=&gt; </span><span class="s2">"&lt;a href=</span><span class="se">\"</span><span class="s2">/</span><span class="se">\"</span><span class="s2">&gt;Home&lt;/a&gt;"</span></code></pre></figure>
</div>

<div class="entry">
<p>Random Rspec stuffs</p>
<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># https://github.com/oozou/addresstalk/pull/300#discussion_r3389770</span>
<span class="c1"># have_selector works only on :href</span>

<span class="c1"># https://github.com/oozou/addresstalk/pull/326#discussion_r3932704</span>
<span class="n">have_field</span> <span class="n">field</span><span class="p">,</span> <span class="ss">:with</span> <span class="o">=&gt;</span> <span class="n">title</span>

<span class="n">expect</span><span class="p">(</span><span class="n">html</span><span class="p">).</span><span class="nf">to</span> <span class="n">have_selector</span> <span class="s1">'div#share-community div.modal-header'</span><span class="p">,</span>
  <span class="ss">:text</span> <span class="o">=&gt;</span> <span class="n">community</span><span class="p">.</span><span class="nf">name</span></code></pre></figure>
</div>

<div class="entry">
<p>Clear all resque workers</p>
<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">Resque</span><span class="p">.</span><span class="nf">workers</span><span class="p">.</span><span class="nf">each</span> <span class="p">{</span><span class="o">|</span><span class="n">w</span><span class="o">|</span> <span class="n">w</span><span class="p">.</span><span class="nf">unregister_worker</span><span class="p">}</span></code></pre></figure>
</div>

<div class="entry">
<p>Delete all ElasticSearch index</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">curl -XDELETE <span class="s1">'http://localhost:9200/'</span></code></pre></figure>
</div>

<div class="entry">
<p>Basic ElasticSearch services</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">http://localhost:9200/_mapping?pretty<span class="o">=</span>1  <span class="c"># get all mapping keys</span>
http://localhost:9200/slimwiki_development/page/_search?pretty<span class="o">=</span>1  <span class="c"># searching</span></code></pre></figure>
</div>
</div>

<div class="block">
<h3><a href="/tag/vim">Vim</a></h3>

<div class="entry">
<p>Replace among opened buffers</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">:bufdo %s/pattern/replace/ge | update</code></pre></figure>
</div>

<div class="entry">
<p>Magic modes</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">/    <span class="c"># Magic, default, e.g. need to use \+</span>
/<span class="se">\v</span>  <span class="c"># Very magic, no need to use \+</span>
/<span class="se">\M</span>  <span class="c"># Nomagic, need to use \. and \*</span>
/<span class="se">\V</span>  <span class="c"># Very Nomagic, like Nomagic but also need to use \$</span>
     <span class="c"># http://andrewradev.com/2011/05/08/vim-regexes/</span></code></pre></figure>
</div>

<div class="entry">
<p>Tabs to spcaes</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">:retab</code></pre></figure>
</div>
</div>

<div class="block">
<h3>OSX</h3>

<div class="entry">
<p>OSX Screencast to animated GIF</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">ffmpeg -i <span class="k">in</span>.mov -s 600x400 -pix_fmt rgb24 -r 10 -f gif - | gifsicle --optimize<span class="o">=</span>3 --delay<span class="o">=</span>3 &gt; out.gif
<span class="c"># -r 10 tells ffmpeg to reduce the frame rate from 25 fps to 10</span>
<span class="c"># -s 600x400 tells ffmpeg the max-width and max-height</span>
<span class="c"># --delay=3 tells gifsicle to delay 30ms between each gif</span>
<span class="c"># --optimize=3 requests that gifsicle use the slowest/most file-size optimization</span>

screengif --max-width 600 --output out.gif -v -f 0 -d 2 -r 60 --delay-last 200 --input Untitled<span class="se">\ </span>20.mov</code></pre></figure>
</div>

<div class="entry">
<p>Open Characters</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">option + <span class="nb">command</span> + T</code></pre></figure>
</div>

<div class="entry">
<p>Copy the SSH key to your clipboard</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">pbcopy &lt; ~/.ssh/id_rsa.pub</code></pre></figure>
</div>

<div class="entry">
<p>Go2Shell configurations</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">open -a Go2Shell --args config</code></pre></figure>
</div>

<div class="entry">
<p>[youtube-dl] list all available formats</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">youtube-dl -F <span class="o">[</span>YOUTUBE_URL]</code></pre></figure>
</div>

<div class="entry">
<p>[youtube-dl] download selected format video</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">youtube-dl -f <span class="o">[</span>NUMBER] <span class="o">[</span>YOUTUBE_URL]</code></pre></figure>
</div>

<div class="entry">
<p>Using ImageMagick to make sharp web-sized photographs</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">ls <span class="k">*</span>.jpg|while <span class="nb">read </span>i;do gm convert <span class="nv">$i</span> -resize <span class="s2">"900x"</span> -unsharp 2x0.5+0.5+0 -quality 98 <span class="sb">`</span>basename <span class="nv">$i</span> .jpg<span class="sb">`</span>_s.jpg;done

<span class="c"># Note: To use imagemagick rather than graphicsmagick, just remove the "gm"</span>
<span class="c"># https://even.li/imagemagick-sharp-web-sized-photographs/</span></code></pre></figure>
</div>

<div class="entry">
<p>Find and delete</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">find <span class="k">*</span>.png -delete</code></pre></figure>
</div>

<div class="entry">
<p>Find recursively and delete</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">find <span class="k">**</span>/<span class="k">*</span>.orig -exec rm <span class="o">{}</span> <span class="se">\;</span></code></pre></figure>
</div>

<div class="entry">
<p>Generate ssh key</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">ssh-keygen -t rsa -C <span class="s2">"phatograph@gmail.com"</span></code></pre></figure>
</div>

<div class="entry">
<p>Add ssh key</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">ssh-add ~/.ssh/id_rsa</code></pre></figure>
</div>

<div class="entry">
<p>Delete all ssh keys</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">ssh-add -D</code></pre></figure>
</div>

<div class="entry">
<p>List saved ssh keys</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">ssh-add -l</code></pre></figure>
</div>

<div class="entry">
<p>Create a bootable USB of OSX Maverick</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">sudo /Applications/Install<span class="se">\ </span>OS<span class="se">\ </span>X<span class="se">\ </span>Mavericks.app/Contents/Resources/createinstallmedia --volume /Volumes/UNTITLED --applicationpath /Applications/Install<span class="se">\ </span>OS<span class="se">\ </span>X<span class="se">\ </span>Mavericks.app</code></pre></figure>
</div>

<div class="entry">
<p>Fix image rotation</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">jhead -autorot <span class="k">*</span>.JPG</code></pre></figure>
</div>

<div class="entry">
<p>Resize and crop images</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">sips --resampleWidth 1080 <span class="k">*</span>.JPG <span class="o">&amp;&amp;</span> sips --cropToHeightWidth 720px 1080px <span class="k">*</span>.JPG</code></pre></figure>
</div>
</div>

<div class="block">
<h3>Node.js</h3>

<div class="entry">
<p>Specifying a version of Node.js or npm</p>
<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="p">{</span>
  <span class="s2">"name"</span><span class="err">:</span> <span class="s2">"myapp"</span><span class="p">,</span>
  <span class="s2">"version"</span><span class="err">:</span> <span class="s2">"0.0.1"</span><span class="p">,</span>
  <span class="s2">"engines"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"node"</span><span class="err">:</span> <span class="s2">"0.8.x"</span><span class="p">,</span>
    <span class="s2">"npm"</span><span class="err">:</span>  <span class="s2">"1.1.x"</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// https://devcenter.heroku.com/articles/nodejs-versions</span></code></pre></figure>
</div>

<div class="entry">
<p>Setting NODE_ENV on Heroku</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">heroku config:add <span class="nv">NODE_ENV</span><span class="o">=</span>production</code></pre></figure>
</div>
</div>

<div class="block">
<h3>PostgreSQL</h3>

<div class="entry">
<p>Display information about current connection</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="se">\c</span>onninfo</code></pre></figure>
</div>

<div class="entry">
<p>List all tables</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="se">\d</span></code></pre></figure>
</div>

<div class="entry">
<p>Use/connect to a database</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="se">\c</span> <span class="o">[</span>DATABASE_NAME]
psql <span class="o">[</span>DATABASE_NAME]</code></pre></figure>
</div>

<div class="entry">
<p>SQL Dump</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">pg_dump <span class="o">[</span>DATABASE_NAME] &gt; <span class="o">[</span>OUTPUT_FILE_NAME]</code></pre></figure>
</div>

<div class="entry">
<p>Restoring the dump</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">psql <span class="o">[</span>DATABASE_NAME] &lt; <span class="o">[</span>INPUT_FILE_NAME]</code></pre></figure>
</div>

<div class="entry">
<p>Describe table</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="se">\d</span> <span class="o">[</span>TABLE_NAME]</code></pre></figure>
</div>

<div class="entry">
<p>List all databases</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="se">\l</span>ist
psql -l</code></pre></figure>
</div>

<div class="entry">
<p>Generate new uncompressed data-only backup (Heroku dump -> mysql)</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">pg_dump --data-only --column-inserts --format p -f <span class="o">[</span>BACKUP_NAME.sql] <span class="o">[</span>POSTGRES_DB_NAME]
<span class="c"># then use http://www.lightbox.ca/pg2mysql.php</span></code></pre></figure>
</div>

<div class="entry">
<p>Start PostgreSQL installed from homebrew</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">postgres -D /usr/local/var/postgres
pg_ctl -D /usr/local/var/postgres -l /usr/local/var/postgres/server.log start</code></pre></figure>
</div>

<div class="entry">
<p>Import dumped psql in local machine</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">pg_restore -O -d <span class="o">[</span>APP_DATABASE_NAME] <span class="o">[</span>DUMPED_FILE_NAME]</code></pre></figure>
</div>
</div>

<div class="block">
<h3>Heroku</h3>

<div class="entry">
<p>Migrate database</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">heroku run rake db:migrate</code></pre></figure>
</div>

<div class="entry">
<p>Restoring the dump</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">heroku pgbackups:restore SHARED_DATABASE <span class="s1">'[RAW_GIST_FILE_URL]'</span></code></pre></figure>
</div>

<div class="entry">
<p>List all backups</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">heroku pgbackups</code></pre></figure>
</div>

<div class="entry">
<p>Create a publicly accessible URL for a backup</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">heroku pgbackups:url <span class="o">[</span>BACKUP_ID]</code></pre></figure>
</div>

<div class="entry">
<p>Database information</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">heroku pg:info</code></pre></figure>
</div>

<div class="entry">
<p>Open addons console</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">heroku addons:open <span class="o">[</span>ADDON_NAME]</code></pre></figure>
</div>

<div class="entry">
<p>Heroku PG local/prod restoration</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">curl -o tmp/latest.dump <span class="sb">`</span>heroku pgbackups:url --app addresstalk<span class="sb">`</span>
pg_restore --verbose --clean --no-acl --no-owner -h localhost -d addresstalk_development tmp/latest.dump
heroku pgbackups:restore DATABASE --app addresstalk-staging <span class="sb">`</span>heroku pgbackups:url --app addresstalk<span class="sb">`</span></code></pre></figure>
</div>
</div>

<div class="block">
<h3>Sublime Text 2</h3>

<div class="entry">
<p>Reopen closed tabs</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">Shift + Cmd + T</code></pre></figure>
</div>

<div class="entry">
<p>Using Package Control</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">Shift + Cmd + P &gt; install
<span class="c"># Package Control: Install Package</span></code></pre></figure>
</div>

<div class="entry">
<p>Installing Package Control</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># Control + `</span>

import urllib2,os;pf<span class="o">=</span><span class="s1">'Package Control.sublime-package'</span>;<span class="nv">ipp</span><span class="o">=</span>sublime.installed_packages_path<span class="o">()</span>;os.makedirs<span class="o">(</span>ipp<span class="o">)</span> <span class="k">if </span>not os.path.exists<span class="o">(</span>ipp<span class="o">)</span> <span class="k">else </span>None;open<span class="o">(</span>os.path.join<span class="o">(</span>ipp,pf<span class="o">)</span>,<span class="s1">'wb'</span><span class="o">)</span>.write<span class="o">(</span>urllib2.urlopen<span class="o">(</span><span class="s1">'http://sublime.wbond.net/'</span>+pf.replace<span class="o">(</span><span class="s1">' '</span>,<span class="s1">'%20'</span><span class="o">))</span>.read<span class="o">())</span>

<span class="c"># restart &amp; browse to Preferences -&gt; Package Settings</span></code></pre></figure>
</div>

<div class="entry">
<p>Add an additional cursor at all occurrences</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">Ctrl + Command + G</code></pre></figure>
</div>
</div>

<div class="block">
<h3>Git</h3>

<div class="entry">
<p>Rebase with interactive</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">git rebase -i HEAD^
git rebase -i HEAD~5</code></pre></figure>
</div>

<div class="entry">
<p>Deleting remote branch</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">git push origin :newfeature</code></pre></figure>
</div>

<div class="entry">
<p>Remove both untracked and ignored files</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">git ls-files --other | xargs rm -f</code></pre></figure>
</div>

<div class="entry">
<p>Removing ignored files </p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">git ls-files --ignored --exclude-standard --other | xargs rm -f</code></pre></figure>
</div>

<div class="entry">
<p>Remove untracked files </p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">git ls-files --exclude-standard --other | xargs rm -f</code></pre></figure>
</div>

<div class="entry">
<p>Push to a different branch</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">git push heroku expressjs:master</code></pre></figure>
</div>
</div>

<div class="block">
<h3>Ubuntu</h3>

<div class="entry">
<p>Install firewall</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">sudo apt-get install ufw</code></pre></figure>
</div>

<div class="entry">
<p>Restart Nginx</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">sudo service nginx restart</code></pre></figure>
</div>

<div class="entry">
<p>Restart php-fpm</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">sudo service php5-fpm restart</code></pre></figure>
</div>

<div class="entry">
<p>Vim Nginx default configuration</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">sudo vim /etc/nginx/sites-available/default</code></pre></figure>
</div>

<div class="entry">
<p>Place the public key on the virtual server</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">cat .ssh/id_rsa.pub | ssh user@123.45.56.78 <span class="s2">"cat &gt;&gt; ~/.ssh/authorized_keys"</span></code></pre></figure>
</div>

<div class="entry">
<p>Restart machine</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">sudo shutdown -r now</code></pre></figure>
</div>

<div class="entry">
<p>Restart PostgreSQL</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">/etc/init.d/postgresql restart</code></pre></figure>
</div>
</div>

<div class="block">
<h3>Redis</h3>

<div class="entry">
<p>Delete keys matching a pattern</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">redis-cli KEYS <span class="s2">"prefix:*"</span> | xargs redis-cli DEL</code></pre></figure>
</div>
</div>

<div class="block">
<h3>Laravel</h3>

<div class="entry">
<p>Generate the Application Key</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">php artisan key:generate</code></pre></figure>
</div>

<div class="entry">
<p>Generate a migration</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">php artisan migrate:make <span class="o">[</span>MIGRATION_NAME_WITH_UNDERSCORE]</code></pre></figure>
</div>

<div class="entry">
<p>Migrate database</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">php artisan migrate:install
php artisan migrate
php artisan migrate:rollback</code></pre></figure>
</div>
</div>


</div>

      </div>
    </div>

    <div class="footer">
      <div class="container">
        2013 – 2019 &copy; <a href="http://phatograph.com">phatograph.com</a>
      </div>
    </div>

    <!-- START GA -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-15209814-9"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-15209814-9');
    </script>
    <!-- END GA -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.16.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.16.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.16.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.16.0/plugins/normalize-whitespace/prism-normalize-whitespace.min.js"></script>

    <script>
      Prism.plugins.autoloader.languages_path = 'https://cdnjs.cloudflare.com/ajax/libs/prism/1.16.0/components/'

      Prism.plugins.NormalizeWhitespace.setDefaults({
        'remove-initial-line-feed': true,
      });
    </script>
  </body>
</html>
